# 开发指南：数据录入与转译规范 (V2.4)

## 1. 核心设计原则：数据三层分离
角色包内的 `data.py` 必须严格划分为三个独立的数据字典，实现物理、时序与逻辑的解耦。

### 1.1 动作时序 (`ACTION_FRAME_DATA`)
*   **Key**: 逻辑动作标识 (如 `NORMAL_1`, `SKILL_PRESS`)。
*   **内容**: 仅存放时间轴参数。
*   **示例**:
    ```python
    ACTION_FRAME_DATA = {
        "NORMAL_1": {
            "hit_frames": [15],
            "total_frames": 34,
            "interrupt_frames": {"normal_attack": 31, "any": 34}
        }
    }
    ```

### 1.2 攻击数据 (`ATTACK_DATA`)
*   **Key**: **攻击的官方唯一名称** (如 `乌瑟勋爵伤害`)。该 Key 会被自动赋值给 `damage.name`。
*   **原则**: **禁止翻译**。直接使用原始实测数据中的文本。
*   **必填字段**:
    *   `attack_tag`: 原始标签名（如 `乌瑟勋爵伤害`）。**[必须]**
    *   `extra_attack_tags`: 额外逻辑分类（如 `["元素战技"]`）。**[可选]**
    *   `element_u`: 元素附着量（如 `1.0`）。**[必须]**
    *   `is_ranged`: 是否为远程（`True`/`False`）。**[必须]**
    *   `icd_tag`: 附着冷却规则名。若无填 `None`。**[必须]**
    *   `icd_group`: 共享冷却组名。若无填 `None`。**[必须]**
    *   物理参数: `shape` (如 `球`), `strike_type` (如 `默认`), `radius`, `offset` 等。
*   **示例**:
    ```python
    ATTACK_DATA = {
        "乌瑟勋爵伤害": {
            "attack_tag": "乌瑟勋爵伤害",
            "extra_attack_tags": ["元素战技"],
            "element_u": 1.0,
            "is_ranged": True,
            "icd_tag": "芙宁娜元素战技",
            "icd_group": "芙宁娜沙龙成员",
            "shape": "球",
            "radius": 2.5,
            "strike_type": "默认",
            "offset": (0.0, 0.0, 0.0)
        }
    }
    ```

### 1.3 机制常量 (`MECHANISM_CONFIG`)
*   **内容**: 非物理的逻辑驱动参数（如频率、切换帧）。必须包含详细中文注释。

---

## 2. 属性与倍率规范 (自动化)

### 2.1 基础属性 (BASE_STATS)
*   **范围**: 必须包含 1, 20, 40, 50, 60, 70, 80, 90, 95, 100 级。

### 2.2 技能倍率 (Multipliers)
*   **复合公式示例**: `[百分比, 固定值]` -> `[[4.8, 462.2], [5.1, 508.4], ...]`。
*   **拆分伤害示例**: `[[一段低空, 一段高空], ...]`。

---

## 3. AI 开发指引
1.  **先读后写**: 修改代码前务必完整读取相关 `data.py` 和规范。
2.  **手工装配**: 在 `skills.py` 或 `entities.py` 中，通过字典 Key 获取对应配置，并根据规范中的中文映射逻辑（如 “球” -> `AOEShape.SPHERE`）在代码中进行转换。

---
*版本: v2.4 (原生数据规范版)*
*Date: 2026-02-13*
