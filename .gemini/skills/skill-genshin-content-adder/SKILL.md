---
name: skill-genshin-content-adder
description: 为原神伤害计算器项目添加新角色、武器、圣遗物的标准化流程指南。强制执行分段确认制与交互式数据录入流程。
---

# 技能：原神内容添加器 (Genshin Content Adder)

## 概述
本技能旨在通过“分段确认制”确保仿真精度。在开发过程中，必须严格遵循用户的人工验证节点，严禁跨阶段开发。

---

## 🛠️ 标准开发流 (SOP v2.4)

### 阶段 1：自动化获取与基础验证 (Base Verification)
1.  **数据抓取**：运行 `fetch_content.py` 自动获取属性与倍率。
2.  **[人工确认]**：向用户展示 `data.py` 中的 `BASE_STATS` 与 `SKILL_MULTIPLIERS`。
    *   *未获确认前，禁止进入下一阶段。*

### 阶段 2：物理数据交互录入 (Physics Entry)
1.  **生成模版**：在角色目录下创建 `temp_frames.csv` 和 `temp_physics.csv` 模版。
2.  **数据填入**：由用户将实测的帧数、中断窗口及物理参数填入。
3.  **数据合并**：读取 CSV 并将结构化数据写入 `data.py`。
4.  **[人工确认]**：展示合并后的 `data.py` 动作配置，用户确认转译准确性。

### 阶段 3：组件化迭代开发 (Component Iteration)
1.  **原子单位开发**：按 `entities.py` -> `effects.py` -> `skills.py` 顺序分块实现。
2.  **技术交流**：每完成一个原子单位，必须展示实现思路、核心算法，并进行深度技术讨论。
3.  **[人工确认]**：获得用户对当前逻辑块的明确授权后，方可继续。

### 阶段 4：组装与终验 (Orchestration & QA)
1.  **主类总装**：在 `char.py` 中实例化并挂载所有组件。
2.  **序列仿真**：运行测试序列并展示 `EventFlow` 日志。
3.  **[最终验收]**：用户对整体表现进行最终确认。

---

## 📂 目录结构规范
```text
character/[REGION]/[name_en]/
├── __init__.py        # 注册与导出
├── char.py            # 主编排类
├── data.py            # [NEW] 混合数据中心：属性(自动) + 物理(交互)
├── skills.py          # 意图 -> 动作工厂
├── talents.py         # 被动效果
├── constellations.py  # 命座效果
├── entities.py        # [可选] 物理实体逻辑
└── effects.py         # [可选] 角色特有状态
```

## references:
  - docs/development/数据录入规范.md

---

## 📝 工程标准
*   **沟通优先**：代码实现不是终点，与用户的讨论和确认才是核心。
*   **强制类型标注**：所有函数签名必须包含参数和返回值的类型提示。
*   **双引号准则**：字符串字面量统一使用双引号 `"`。
*   **严禁魔法数字**：逻辑代码中所有数值必须引用自 `data.py`。
